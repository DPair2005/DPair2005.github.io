 

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="/css/main.css">
  <link rel="stylesheet" type="text/css" href="/css/art.css">
  <link rel="icon" type="images/png" href="/images/favicon.png">
  <script src="/js/element.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/styles/atom-one-light.min.css">
  <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/highlight.min.js"></script>
</head>

<body>
  <script>
    window.onload = function() {
      loadMath();
      drawSaying();
      hljs.configure({ tabReplace: '  ' });
      hljs.initHighlighting()
    }
  </script>

  <div class="content">
    <div class="sidebar" id="sidebar">
      <title>
          ARC 做题记录
      </title>
      <script>
    SaveBackground()
  </script>
  <div class="sidebar-title">
    <p style="font-weight: bold; font-size: 25px; font-family: 'ZCOOL XiaoWei';" onclick="drawSaying()"> 
  
  DPairの非自制 blog
      <HR align="center" style="width: 200px;">
    </p>
      <div font="" style="text-align: center; font-size: 18px; font-family: 'ZCOOL XiaoWei';" class="sayingtype" id="sayingtype"> </div>
      <div font="" style="text-align: center; font-size: 6px;"> 　 </div>
    <div class="saying" id="saying"> </div>
  </div>
  <div class="sidebar-body">
  
    <div class="sidebar-content">
      <ul class = "sidebar-menu">
        <a href="/">
          <li class="list-item sidebar-menu-item" id="sidebar-content-home">
            Home
          </li>
        </a>
        <a href="/articles">
          <li class="list-item sidebar-menu-item" id="sidebar-content-articles">
            Articles
          </li>
        </a>
        <a href="/transit">
            <li class="list-item sidebar-menu-item" id="sidebar-content-Transit"
            style="background: #e5e5e5">
            Transit
        </li>
        </a>
        <a href="/tags">
          <li class="list-item sidebar-menu-item" id="sidebar-content-tags">
            Tags
          </li>
        </a>
      </ul>
    </div>
    <div class="sidebar-about">
      <div style="text-align: center; font-size: 16px;"> About DPair </div>
      <HR align="center">
      <div style="margin: 2 auto; width: min-content" onclick="NextBackground()">
        <img class="avatar" alt="DPair" src="/images/avatar.png">
      </div>
      <ul class="sidebar-links">
  
  <li class="sidebar-links-item">
      <a href="https://www.luogu.com.cn/blog/DPair2005/" class="friend-link"> 
        luogu blog 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://codeforces.com/profile/DPair" class="friend-link"> 
        Codeforces 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://atcoder.jp/users/DPair" class="friend-link"> 
        AtCoder 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://gitee.com/DPair" class="friend-link"> 
        gitee 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://github.com/DPair2005" class="friend-link"> 
        github 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="mailto:DPair2005@163.com" class="friend-link"> 
        mail 
      </a>
    </li>
  
      </ul>
    </div>
  
    <ul class="sidebar-links">
      <div style="text-align: center; font-size: 16px;"> Friend Links </div>
      <HR align="center">
      
  <li class="sidebar-links-item">
      <a href="https://www.luogu.com.cn/user/140572" class="friend-link"> 
        DSair
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://coderoj.gitee.io/" class="friend-link"> 
        Jacderzhang's blog
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://xyix.gitee.io/" class="friend-link"> 
        xYix's blog
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://www.cnblogs.com/Flying2018/" class="friend-link"> 
        Flying2018's blog
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://www.cnblogs.com/-Wallace-/" class="friend-link"> 
        _Wallace_'s blog
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://www.cnblogs.com/Point-King/" class="friend-link"> 
        Point_King's blog
      </a>
    </li>
  
    </ul>
  
  </div>
  
    </div>

    <div class="post" id="post">
      <h1 id="arc-%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95">ARC 做题记录</h1>
<p>你看这个 Krimson 都把 ARC A 穿了，我才做了那么点题。</p>
<p>想了想还是倒序开题吧，这样有新比赛的时候方便直接加在最上面。</p>
<p><del>不过我也不知道为什么洛谷只爬到了 ARC103 （（ 算了算了按有中文翻译的来吧。</del></p>
<h2 id="arc-103">ARC 103</h2>
<h4 id="a-at4431-arc103a-https-www-luogu-com-cn-problem-at4431">A <a href="https://www.luogu.com.cn/problem/AT4431">AT4431 [ARC103A] /\/\/\/</a></h4>
<p>给你一个序列，你可以进行若干次形如 “将 $a_i$ 赋值为 $b$ ” 的操作，问你最少多少次之后能让序列形如 $\forall i &lt; n-1, a_i=a_{i+2}$ ，且 $\forall i &lt; n, a_i \neq a_{i+1}$ 。</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>按题意模拟即可，拆成两个序列然后求出现次数的最值，稍微记录一下最大值次大值然后随便搞搞就好了。</p>
</details>

<hr>
<h4 id="b-at4432-arc103b-robot-arms-https-www-luogu-com-cn-problem-at4432">B <a href="https://www.luogu.com.cn/problem/AT4432">AT4432 [ARC103B] Robot Arms</a></h4>
<p>给你 $n$ 个坐标 $(x, y)$ ，你需要先构造一个长度任意的序列 $c$ 表示 “步长” ，即假设你在 $(x, y)$ 这个位置，下一步你会走到 $(x\pm c_i, y)$ 或 $(x, y\pm c_i)$ 。假设这个序列长度为 $m$ ，然后你要构造 $n$ 组长度为 $m$ 的由 <code>LRUD</code> 构成的序列表示每一步走的方向。目标是使得你从 $(0, 0)$ 开始走，走过整个序列后对于每一个 $i\in [1, n]$ ，你走到的终点就是给出的终点。或输出无解。</p>
<p>要求 $m \le 40, c_i \le 1e12$ 。</p>
<p>$1\le n \le 1000$ 。</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>首先考虑无解的情况，假设存在两组 $(x_i, y_i), (x_j, y_j)$ 的 $x+y$ 的奇偶性不同，那么显然无解。</p>
<p>这应该不难理解，因为你每一次按顺序操作下来的话所有元素奇偶性一定相同。</p>
<p>但是奇偶性相同只是必要条件，不过如果对于所有奇偶性相同的情况我们都能构造出来，那么其实也就可以了。</p>
<p>这道题 $m$ 很小，所以考虑 $\log$ 级别的做法。</p>
<p>我们考虑<strong> 对于某一种操作序列 </strong>从 $(0,0)$ 开始能到达的节点有哪些。</p>
<p>这种地方大概率需要倍增，因此我们考虑构造 $c_i=2^{i-1}$ 。</p>
<p>这样只能处理奇偶性为奇的问题，不过不难发现我们在序列开头加一个 $1$ 就行了。</p>
<p>那么接下来以奇偶性为奇为例，手玩后不难发现所有与原点距离在 $[-2^m+1, 2^m-1]$ 范围内的<strong> “奇数” </strong>的位置都可以被我们到达。</p>
<p>因此一定有解，考虑怎么构造解。</p>
<p>我们这里只考虑奇数，偶数的话类比一下即可。</p>
<p>我们考虑逆推，即从对应点走回来。</p>
<p>我们考虑从 $2^{m-1}$ 开始往后推，一种构造方法就是每一次选择与 $(0, 0)$ 距离更远的一维移动。</p>
<p>不难发现这样是对的，因为我们移动过后，相当于要处理一个 $m'=m-1$ 规模的子问题，需要点落在 $[-2^{m-1}+1, 2^{m-1}-1]$ 范围内。</p>
<p>显然我们选择更远的一边移动，移动后的位置显然是满足子问题的数据范围的的。</p>
<p>由此问题得到了解决，复杂度 $O(nm)$ </p>
</details>

<hr>
<h4 id="c-at4433-arc103c-tr-ee-https-www-luogu-com-cn-problem-at4433">C <a href="https://www.luogu.com.cn/problem/AT4433">AT4433 [ARC103C] Tr/ee</a></h4>
<p>给你一个 $01$ 序列 $s$ ，你需要构造一棵树，满足对于所有 $s_i=1$ 的位置 $i$ ，存在一种方案使得这棵树断掉恰好一条边时存在一个连通块大小为 $i$ ；同样的，对于所有 $s_i=0$ 的位置，要求不存在这种方案。</p>
<p>$1\le n \le 1e5$</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>首先判一下无解的几种情况。</p>
<p>然后不难发现要满足序列上的条件，一种很好的方法是构造出来类似菊花图的东西。</p>
<p>那么直接构造一条链，每一个节点开出一朵菊花就行了，然后瞎搞搞就把对应大小搞出来了。</p>
<p>这样做显然是正确的，最终复杂度 $O(n)$ 。</p>
</details>

<hr>
<h4 id="d-at4434-arc103d-distance-sums-https-www-luogu-com-cn-problem-at4434">D <a href="https://www.luogu.com.cn/problem/AT4434">AT4434 [ARC103D] Distance Sums</a></h4>
<p>你有一棵边权全部为 $1$ 的树，给你一个序列 $d$ ， $d_i$ 表示 $i$ 到其他所有点的距离之和。</p>
<p>让你构造出这棵树或判断无解。</p>
<p>$1\le n \le 1e5$</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>首先假设我们有这棵树，要反推这个数组。</p>
<p>$O(n^2)$ 的解法太逊了，我们考虑换根 dp 。</p>
<p>然后我们不难发现，一个点与其父亲的权值差距只与这个点的子树大小有关，而我们一开始能确定子树大小的只有叶子节点。</p>
<p>我们对 $d$ 排序，不难发现此时 $d_1$ 一定是重心， $d_n$ 一定为叶子。</p>
<p>我们考虑以重心为根，然后不断找父亲，显然每一个点可以通过其 $d_i$ 的值和现在的子树大小在原序列中二分找到父亲的位置，若找不到直接无解。</p>
<p>找到父亲后就可以直接连边，并且把子树大小的贡献加给父亲。</p>
<p>但是这样只能使得 $d$ 之间的相对关系成立，要使得其具体关系成立还需要一个明确的 $d_i$ 完全成立。</p>
<p>然而我们已经求出所有子树的大小，那么把这些子树大小全部加起来与 $d_1$ 判一下等就可以了。</p>
<p>这样做显然是正确的，最终复杂度 $O(n\log n)$ 。</p>
</details>

<hr>
<h2 id="arc-102">ARC 102</h2>
<h4 id="a-at4360-arc102a-triangular-relationship-https-www-luogu-com-cn-problem-at4360">A <a href="https://www.luogu.com.cn/problem/AT4360">AT4360 [ARC102A] Triangular Relationship</a></h4>
<p>给你 $n, k$ ，问你有多少个正整数形成的有序可重三元组 $(a,b,c)$ 满足 $a, b, c \in [1, n]$ 且 $a+b, b+c, a+c$ 都为 $k$ 的倍数。</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>分奇偶讨论一下就好了，复杂度 $O(1)$ 。</p>
</details>

<hr>
<h4 id="b-at4361-arc102b-all-your-paths-are-different-lengths-https-www-luogu-com-cn-problem-at4361">B <a href="https://www.luogu.com.cn/problem/AT4361">AT4361 [ARC102B] All Your Paths are Different Lengths</a></h4>
<p>给你一个数 $L$， 构造一个有向图使得从 $1$ 到 $n$ 恰好有 $L$ 条路径且路径长度恰好为 $0$ 到 $L−1$。边有边权。点数小于等于 $20$， 边数小于等于$60$ 。</p>
<p>$1 \le L \le 1e6$</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>首先这个数据范围不难想到二进制，消耗 $n$ 个点 $2n$ 条边可以处理出 $[0, 2^{n-1})$ 的问题。</p>
<p>但是由于每一种路径恰好出现一次，而我们单单处理这部分问题就已经基本耗尽了点数，所以我们需要改进我们的算法。</p>
<p>不难发现我们剩下来的边数是比较多的，而且 $V:E=1:3$ ，考虑均摊.</p>
<p>因此我们考虑 $k$ 进制，这样可以处理 $[0, k^{n-1})$ 的问题，并且耗费边数为 $kn$ 。</p>
<p>然后考虑剩下的部分<strong> 的大小 </strong>也在 $[0, k^{n-1})$ 范围内，但是这部分是不完整的。</p>
<p>然而边权全部是我们自己定的，能多大就多大，因此我们考虑从起点直接连一些边出去到一段后缀上就可以表示出一段 $[0, k^{q-1})$ 长度的区间。</p>
<p>我们发现其实取 $k=2$ 是可以的，我们消耗 $20$ 个点构造出序列，然后通过第一个点大量连出边即可，可以用递归的方法建图。</p>
<p>发现点数边数都卡满，但确实能通过本题。</p>
</details>

<hr>
<h4 id="c-at4362-arc102c-stop-otherwise-https-www-luogu-com-cn-problem-at4362">C <a href="https://www.luogu.com.cn/problem/AT4362">AT4362 [ARC102C] Stop. Otherwise...</a></h4>
<p>你有 $n$ 个有 $k$ 面写着 $[1, k]$ 中整数的均匀骰子。你要求出对于 $[2, 2k]$ 中的每一个数 $x$ ，任意两个骰子朝上的点数之和不为 $x$ 的方案数。</p>
<p>$1 \le n, k \le 2e3$</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>我爪巴了，连 dp 都不会了。</p>
<p>其实是一个非常简单的 dp。</p>
<p>首先我们考虑对于每一个 $x$ 分别求。</p>
<p>不难发现骰子被分成了三类。</p>
<p>第一类为 $\ge x$ 的，这部分可以任选。</p>
<p>第二类为 $< x$ 的，这部分显然一一对应地被分为了若干组，每一组要么不选要么只能选一种。</p>
<p>第三类为 $2|x$ 且 $= {x\over 2}$ 的，这部分可能不存在，但若存在要么不选要么只选一个，拿出来单独考虑。</p>
<p>那么现在只剩下了一二两类的关系。</p>
<p>第一类的贡献可以大力 dp ，考虑 $dp[i][j][0/1]$ 表示选了 $i$ 种数，$j$ 个数，第 $i$ 种选或不选的方案数，这东西很好转移。而且不难发现这部分对于所有 $x$ 是通用的，可以预处理出来，复杂度 $O(nk)$ 。</p>
<p>第二类的可以用类似插板法的方法用组合数算出来。</p>
<p>然后把两部分乘一乘就好了，注意一组 $dp[i][j]$ 的总方案数中 $dp[i][j][1]$ 要乘个 $2$ 表示选两种数中的任意一种。</p>
<p>最终复杂度 $O(nk)$ 可以通过本题。</p>
</details>

<hr>
<h2 id="arc-084">ARC 084</h2>
<h4 id="-at3621-arc084b-small-multiple-https-www-luogu-com-cn-problem-at3621"><a href="https://www.luogu.com.cn/problem/AT3621">AT3621 [ARC084B] Small Multiple</a></h4>
<p>给你一个正整数 $k$ ，求 $k$ 的所有整数倍中各个数位之和最小是多少。</p>
<p>$1\le k \le 10^5$ 。</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>这道题是真的神题。</p>
<p>也正是这一时期，这个 Jacderzhang 胡了个数位dp，我和万老爷盲猜了一波结论，我写了个乱搞，没想到正解是最短路。</p>
<p>考虑最后得到的这个倍数可能会非常大，然后我们要求的又是倍数，考虑在模意义下去做这道题。</p>
<p>我们先建 $k$ 个点 $0, 1, \dots k-1$ ，点 $x$ 表示模 $k$ 意义下为 $x$ 的数中数位之和最小是多少。</p>
<p>然后考虑转移，不难发现有两种。</p>
<p>第一种就是直接乘上一个 $10$ ，数位之和不变。</p>
<p>第二种就是加 $1$ ，这里我们假设它的数位和 $+1$ 。考虑我们如果出现了连续 $10$ 次及以上的 $+1$ 操作，我们一定可以通过第一种转移得到更优的答案，故这种可以直接假设它的数位和 $+1$ ，不影响答案。</p>
<p>然后建图即可，即 $i$ 向 $i+1$ 与 $10i$ 连边，边权分别为 $1$ 和 $0$，注意这里是模意义下。</p>
<p>由于 $1$ 号点的答案显然是 $1$ 且不会改变，因此我们取 $1$ 为起点，然后跑 $1 \rightarrow 0$ 的最短路即可。</p>
<p>复杂度就是最短路的复杂度，显然这道题不卡 SPFA ，可以重振一下 SPFA 的荣光。</p>
</details>

<hr>

      

    </div>

  </div>
</body>