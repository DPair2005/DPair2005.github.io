 

<head>
  <meta charset="UTF-8">
  <link rel="stylesheet" type="text/css" href="/css/main.css">
  <link rel="stylesheet" type="text/css" href="/css/art.css">
  <link rel="icon" type="images/png" href="/images/favicon.png">
  <script src="/js/element.js"></script>
  <link rel="stylesheet" href="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/styles/atom-one-light.min.css">
  <script src="//cdn.jsdelivr.net/gh/highlightjs/cdn-release@10.4.0/build/highlight.min.js"></script>
</head>

<body>
  <script>
    window.onload = function() {
      loadMath();
      drawSaying();
      hljs.configure({ tabReplace: '  ' });
      hljs.initHighlighting()
    }
  </script>

  <div class="content">
    <div class="sidebar" id="sidebar">
      <title>
          AGC 做题记录
      </title>
      <script>
    SaveBackground()
  </script>
  <div class="sidebar-title">
    <p style="font-weight: bold; font-size: 25px; font-family: 'ZCOOL XiaoWei';"> 
  
  DPairの非自制 blog
      <HR align="center" style="width: 200px;">
    </p>
      <div font="" style="text-align: center; font-size: 18px; font-family: 'ZCOOL XiaoWei';" class="sayingtype" id="sayingtype"> </div>
      <div font="" style="text-align: center; font-size: 6px;"> 　 </div>
    <div class="saying" id="saying"> </div>
  </div>
  <div class="sidebar-body">
  
    <div class="sidebar-content">
      <ul class = "sidebar-menu">
        <a href="/">
          <li class="list-item sidebar-menu-item" id="sidebar-content-home">
            Home
          </li>
        </a>
        <a href="/articles">
          <li class="list-item sidebar-menu-item" id="sidebar-content-articles">
            Articles
          </li>
        </a>
        <a href="/transit">
            <li class="list-item sidebar-menu-item" id="sidebar-content-Transit"
            style="background: #e5e5e5">
            Transit
        </li>
        </a>
        <a href="/tags">
          <li class="list-item sidebar-menu-item" id="sidebar-content-tags">
            Tags
          </li>
        </a>
      </ul>
    </div>
    <div class="sidebar-about">
      <div style="text-align: center; font-size: 16px;"> About DPair </div>
      <HR align="center">
      <div style="margin: 2 auto; width: min-content" onclick="NextBackground()">
        <img class="avatar" alt="DPair" src="/images/avatar.png">
      </div>
      <ul class="sidebar-links">
  
  <li class="sidebar-links-item">
      <a href="https://www.luogu.com.cn/blog/DPair2005/" class="friend-link"> 
        luogu blog 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://codeforces.com/profile/DPair" class="friend-link"> 
        Codeforces 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://atcoder.jp/users/DPair" class="friend-link"> 
        AtCoder 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://gitee.com/DPair" class="friend-link"> 
        gitee 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://github.com/DPair2005" class="friend-link"> 
        github 
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="mailto:DPair2005@163.com" class="friend-link"> 
        mail 
      </a>
    </li>
  
      </ul>
    </div>
  
    <ul class="sidebar-links">
      <div style="text-align: center; font-size: 16px;"> Friend Links </div>
      <HR align="center">
      
  <li class="sidebar-links-item">
      <a href="https://www.luogu.com.cn/user/140572" class="friend-link"> 
        DSair
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://coderoj.gitee.io/" class="friend-link"> 
        Jacderzhang's blog
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://xyix.gitee.io/" class="friend-link"> 
        xYix's blog
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://www.cnblogs.com/Flying2018/" class="friend-link"> 
        Flying2018's blog
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://www.cnblogs.com/-Wallace-/" class="friend-link"> 
        _Wallace_'s blog
      </a>
    </li>
<li class="sidebar-links-item">
      <a href="https://www.cnblogs.com/Point-King/" class="friend-link"> 
        Point_King's blog
      </a>
    </li>
  
    </ul>
  
  </div>
  
    </div>

    <div class="post" id="post">
      <h1 id="agc-%E5%81%9A%E9%A2%98%E8%AE%B0%E5%BD%95">AGC 做题记录</h1>
<p>你看这个 Krimson 都把 AGC A 穿了，我才做了那么点题。</p>
<p>由于 AGC 比较毒瘤，可能会做的很散（（（</p>
<h2 id="agc-004">AGC 004</h2>
<h4 id="d-at2044-agc004d-teleporter-https-www-luogu-com-cn-problem-at2044">D <a href="https://www.luogu.com.cn/problem/AT2044">AT2044 [AGC004D] Teleporter</a></h4>
<p>有 $n$ 个城市，每个城市有一个传送点，都可以传送到唯一的另外一个城市，保证从任何位置出发经过若干次传送之后能够到达 $1$ 号城市。现在希望修改一些点的目的地，使得从任何一点出发在传送 $K$ 次之后恰好都能到达 $1$ 号城市，求最少要改变目的地的城市的数量。</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>显然根节点要自环，然后剩下的形成了一棵内向树，直接贪心即可。</p>
<p>具体策略是每当一个节点子树内最大深度超过了 $K-1$ 就直接连到 $1$ 。</p>
<p>首先直接连到 $1$ 显然最优，然后取的点深度越小显然能修改的子树越大，故越优。</p>
<p>最终复杂度 $O(n)$ 。</p>
</details>

<hr>
<h4 id="e-at2044-agc004d-teleporter-https-www-luogu-com-cn-problem-at2044">E <a href="https://www.luogu.com.cn/problem/AT2044">AT2044 [AGC004D] Teleporter</a></h4>
<p>有一个 $n\times m$ 的平面，上面只有一个出口，然后有很多机器人，你每一次可以让所有机器人往同一个方向移动一步，移动到出口的机器人会被解救然后从平面上消失，离开平面边界的机器人会直接被送去异次元（也就是消失了），问你最多能解救多少个机器人。</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>我们可以把问题抽象成平面带着出口在移动，不难发现每一次移动都会杀掉一批机器人。</p>
<p>于是我们考虑枚举被杀的边界，并且同时处理出借由把这些区域的机器人送去异次元，我们能够解救那些区域的机器人。</p>
<p>不难发现边界每一次扩展就可以解救某一矩形中的所有机器人，并且不扩展新的边界。</p>
<p>那么设一个 dp 数组 $f[i][j][k][l]$ 表示四个方向分别把多少行（列）送去了异次元能得到的最大解救数。</p>
<p>随便转移一下即可，但是我写挂了（（（</p>
<p>最终时空复杂度 $O(n^2m^2)$ ，稍微卡卡常就过了。</p>
</details>

<hr>
<h2 id="agc-009">AGC 009</h2>
<h4 id="e-at2294-agc009e-eternal-average-https-www-luogu-com-cn-problem-at2294">E <a href="https://www.luogu.com.cn/problem/AT2294">AT2294 [AGC009E] Eternal Average</a></h4>
<p>给你 $n$ 个 $1$ 和 $m$ 个 $0$ 还有一个常数 $k$ ，每一次你可以删去 $k$ 个数然后加入它们的平均数，保证 $k-1|n+m-1$ ，显然最后只会剩下一个数，问这个数有多少种可能性。</p>
<p>$n, m \le 2000$ </p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>$n, m$ 混乱警告，但是能看懂就行。</p>
<p>我们考虑把合并的过程转成一棵 $k$ 叉树的形式，设最后的结果为 $z$ ，那么有</p>
$$
z=\sum_{i\in leaf} a_i\times ({1\over k})^{d_i}
$$
<p>其中 $a_i$ 表示某个叶子节点的权值，$d_i$ 表示深度。</p>
<p>然后当所有叶子都为 $1$ 时，我们有</p>
$$
\sum_{i\in leaf} ({1\over k})^{d_i}=1
$$
<p>于是我们把问题转化为 “问有多少个数 $z$ 可以被表示成 $\sum ({1\over k}) y$ 的形式，并且 $1-k$ 可以被表示成类似的形式” 。</p>
<p>而且这个问题是有限制条件的，考虑分析出这些限制条件然后 $dp$ 。</p>
<p>首先不难发现我们可以把这些 $z$ 表示成一个 $k$ 进制下的小数的形式，设 $z=\sum c_i({1\over k})^i$ ，显然其位数有限。</p>
<p>我们假设 $c_i$ 未进位，那么有 $\sum c_i = m$ 。</p>
<p>但是考虑设 $b$ 为 $c$ 进位后的形式，那么一方面 $z=\sum b_i({1\over k})^i$ 仍成立，另一方面，我们发现进位本质上是一位 $-k$ 一位 $+1$ ，故得到 $\sum b_i \equiv m \mod (k - 1)$ 。</p>
<p>而且 $b_i$ 要满足 $b_i\in [0, k)$ 。</p>
<p>然后考虑 $1-z$ 的限制，一方面它要满足 $1 + \sum (k-1-b_i) \le n$ （至于为什么 $m$ 不判这个条件应该是因为 $\sum b_i \le \sum c_i = m$），另一方面，它要类似的满足 $1 + \sum (k-1-b_i) \equiv n \mod (k-1)$ 。这里大概理解成按位减（也就是高精的写法）。</p>
<p>考虑设 $f[i][j]$ 表示最大深度为 $i$ ， $\sum b_i$ 为 $j$ 的方案数，然后把满足条件的加到答案中去。这里还需要考虑最大深度上的 $b_i$ 是否为 $0$ 的情况（为 $0$ 也不合法），故加一维 $[0/1]$ 表示是否为 $0$ 。</p>
<p>复杂度 $O(n^2)$ ，可以通过本题。</p>
</details>

<hr>
<h2 id="agc-034">AGC 034</h2>
<h4 id="d-at4994-agc034d-manhattan-max-matching-https-www-luogu-com-cn-problem-at4994">D <a href="https://www.luogu.com.cn/problem/AT4994">AT4994 [AGC034D] Manhattan Max Matching</a></h4>
<p>有两种颜色，每种颜色有 $n$ 个点，每个点上面有 $a_i$ 个球，且两种颜色的总球数相同。</p>
<p>你需要对于第一种颜色的每一个球匹配第二个颜色的一个球，产生的权值为两个球的曼哈顿距离，最大化这个距离。</p>
<p>$1\le n \le 10000, a_i \le 10$ 。</p>
<hr>
<details>
<summary><strong> 具体解法 </strong></summary>
<p></p>
<p>我以为这道题是个模拟费用流，没想到是优化费用流。</p>
<p>首先一种 naive 的想法是暴力跑二分图匹配，但是边数太多，复杂度显然会炸。</p>
<p>然后我们考虑拆绝对值，不难发现两个点的匹配中，两个点的权值是互相独立的，且只有四种可能。</p>
<p>新建 $4$ 个中间点然后跑费用流就行了，由于绝对值一定大于绝对值的相反数，所以两个点一旦匹配上就会自动取到绝对值，保证了正确性。</p>
</details>

<hr>

      

    </div>

  </div>
</body>